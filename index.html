<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Bubble Chart</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script defer="" data-domain="business-canvas.tiiny.site" src="https://analytics.tiiny.site/js/plausible.js"></script>
  <script type="text/javascript" src="https://tiiny.host/ad-script.js"></script>
</head>
<body>
  <canvas id="bubbleChart" width="800" height="600"></canvas>

  <script>
    function getRightToWinColor(score) {
      if (score < 7.5) return 'rgba(255, 0, 0, 0.5)';  // Red for low score
      if (score < 8.5) return 'rgba(255, 165, 0, 0.5)';  // Orange for medium score
      return 'rgba(0, 255, 0, 0.5)';  // Green for high score
    }

    const ctx = document.getElementById('bubbleChart').getContext('2d');

    const data = {
      datasets: [
        {
          label: 'Professionals',
          data: [
            { x: 1, y: 1, r: 3500 / 100, label: 'Lawyers (Solo)', rightToWin: 8.97 },
            { x: 1, y: 2, r: 2250 / 100, label: 'Lawyers (Regional)', rightToWin: 8.52 },
            { x: 1, y: 3, r: 75000 / 100, label: 'Lawyers (National)', rightToWin: 8.7 },
            { x: 1, y: 1, r: 3500 / 100, label: 'Real Estate Agents (Solo)', rightToWin: 7.34 },
            { x: 1, y: 2, r: 2700 / 100, label: 'Real Estate Agencies (Regional)', rightToWin: 7.79 },
            { x: 1, y: 3, r: 2100 / 100, label: 'Real Estate Franchises (National)', rightToWin: 9.17 },
            { x: 1, y: 1, r: 3500 / 100, label: 'Financial Advisors (Solo)', rightToWin: 8.27 },
            { x: 1, y: 2, r: 5250 / 100, label: 'Financial Advisory Firms (Regional)', rightToWin: 7.07 },
            { x: 1, y: 3, r: 27000 / 100, label: 'Financial Advisory Firms (National)', rightToWin: 8.27 }
          ],
          backgroundColor: function(context) {
            return getRightToWinColor(context.raw.rightToWin);
          }
        },
        {
          label: 'Healthcare',
          data: [
            { x: 3, y: 1, r: 3500 / 100, label: 'Dental Private Practice', rightToWin: 7.62 },
            { x: 3, y: 2, r: 27000 / 100, label: 'Regional Dental Groups', rightToWin: 8.0 },
            { x: 3, y: 3, r: 90000 / 100, label: 'National Dental Chains', rightToWin: 7.82 },
            { x: 3, y: 1, r: 3500 / 100, label: 'Solo Medical Practices', rightToWin: 7.62 },
            { x: 3, y: 2, r: 22500 / 100, label: 'Regional Medical Groups', rightToWin: 8.9 },
            { x: 3, y: 3, r: 7500 / 100, label: 'National Healthcare Systems', rightToWin: 8.0 }
          ],
          backgroundColor: function(context) {
            return getRightToWinColor(context.raw.rightToWin);
          }
        },
        {
          label: 'Financial Services',
          data: [
            { x: 8, y: 2, r: 90000 / 100, label: 'Community Banks', rightToWin: 8.9 },
            { x: 8, y: 3, r: 900000 / 100, label: 'National Banks', rightToWin: 8.72 },
            { x: 8, y: 1, r: 3500 / 100, label: 'Mortgage Brokers (Solo)', rightToWin: 8.72 },
            { x: 8, y: 2, r: 2700 / 100, label: 'Mortgage Brokers (Regional)', rightToWin: 8.97 },
            { x: 8, y: 3, r: 10500 / 100, label: 'Mortgage Brokers (National)', rightToWin: 9.15 }
          ],
          backgroundColor: function(context) {
            return getRightToWinColor(context.raw.rightToWin);
          }
        }
      ]
    };

    const options = {
      responsive: true,
      plugins: {
        tooltip: {
          callbacks: {
            label: function(tooltipItem) {
              return `${tooltipItem.raw.label}: Revenue $${tooltipItem.raw.r * 100}, Right to Win Score ${tooltipItem.raw.rightToWin.toFixed(2)}`;
            }
          }
        },
        legend: {
          display: true
        }
      },
      scales: {
        x: {
          min: 0,
          max: 10,
          title: {
            display: true,
            text: 'Business Segments'
          },
          ticks: {
            stepSize: 1,
            callback: function(value) {
              const segments = [
                'Professionals',
                'SMB/Location Based',
                'Healthcare - Preventive & Wellness Care',
                'Healthcare - Acute & Emergency Care',
                'Healthcare - Pharmaceuticals & Lifesciences',
                'Education - Schools & Colleges',
                'Education - Edtech/Tutors',
                'Financial Services - Lenders',
                'Financial Services - Insurance',
                'Others'
              ];
              return segments[value - 1] || '';
            }
          }
        },
        y: {
          min: 0,
          max: 4,
          title: {
            display: true,
            text: 'Business Scope'
          },
          ticks: {
            stepSize: 1,
            callback: function(value) {
              const scopes = ['Solo/Independent', 'SME (Regional & Multi-City)', 'Large Enterprises (National & International)'];
              return scopes[value - 1] || '';
            }
          }
        }
      }
    };

    const bubbleChart = new Chart(ctx, {
      type: 'bubble',
      data: data,
      options: options
    });
  </script>
</body>
</html>
